#include <avr/pgmspace.h>
#include <Arduino.h>
#include <SPI.h>
#if not defined (_VARIANT_ARDUINO_DUE_X_) && not defined (_VARIANT_ARDUINO_ZERO_)
  #include <SoftwareSerial.h>
#endif

#include "Adafruit_BLE.h"
#include "Adafruit_BluefruitLE_SPI.h"
#include "Adafruit_BluefruitLE_UART.h"

#include "BluefruitConfig.h"

#include <Adafruit_GFX.h>
#include <Adafruit_NeoMatrix.h>
#include <Adafruit_NeoPixel.h>
#include <Metro.h>
#ifndef PSTR
  #define PSTR
#endif


#define PIN 6

Adafruit_NeoMatrix matrix = Adafruit_NeoMatrix(8,7, PIN, NEO_MATRIX_BOTTOM + NEO_MATRIX_LEFT + NEO_MATRIX_ROWS + NEO_MATRIX_ZIGZAG, NEO_GRB + NEO_KHZ800);
Adafruit_NeoPixel strip = Adafruit_NeoPixel(56, PIN);

//Pastel Fade
const byte redFrame0[8*7] PROGMEM = {168,187,187,178,187,178,168,136,192,187,178,156,178,156,143,107,187,168,156,143,156,143,122,100,183,187,178,156,178,168,156,118,187,168,156,143,168,143,122,101,187,156,143,122,156,122,107,84,166,118,116,100,118,101,84,100,};
const byte greenFrame0[8*7] PROGMEM = {101,117,117,133,117,133,147,173,95,117,133,152,133,155,163,179,117,147,152,163,152,163,167,170,103,117,133,152,133,147,155,170,117,147,155,163,147,163,175,179,117,155,163,167,155,175,179,168,161,180,180,170,170,179,168,140,};
const byte blueFrame0[8*7] PROGMEM = {174,111,111,97,111,97,89,104,129,111,97,97,97,80,89,100,111,89,97,89,97,89,101,138,145,111,97,97,97,89,80,118,111,89,80,89,89,89,88,120,111,80,89,101,80,88,100,147,95,102,124,138,118,120,147,179,};
const byte redFrame1[8*7] PROGMEM = {149,185,185,187,183,183,187,166,170,192,192,187,192,187,178,143,183,187,187,178,187,178,168,136,168,185,192,187,183,187,178,156,185,192,187,178,187,178,168,136,185,187,178,168,178,168,156,107,187,166,143,136,156,136,118,100,};
const byte greenFrame1[8*7] PROGMEM = {104,90,90,117,103,103,117,161,84,95,95,117,95,117,133,163,103,117,117,133,117,133,147,173,101,90,95,117,103,117,133,152,90,95,117,133,117,133,147,173,90,117,133,147,133,147,155,179,117,161,163,173,152,173,180,170,};
const byte blueFrame1[8*7] PROGMEM = {183,151,151,111,145,145,111,95,174,129,129,111,129,111,97,89,145,111,111,97,111,97,89,104,174,151,129,111,145,111,97,97,151,129,111,97,111,97,89,104,151,111,97,89,97,89,80,100,111,95,89,104,97,104,102,138,};
const byte redFrame2[8*7] PROGMEM = {110,149,156,168,149,168,185,187,132,170,170,192,170,185,192,178,149,185,183,187,183,187,187,156,119,156,170,183,168,185,192,178,149,185,185,187,185,192,187,168,156,185,192,187,192,187,187,156,183,187,178,156,178,168,166,116,};
const byte greenFrame2[8*7] PROGMEM = {129,104,91,101,104,101,90,117,105,84,84,95,84,90,95,133,104,90,103,117,103,117,117,152,116,91,84,103,101,90,95,133,104,90,90,117,90,95,117,147,91,90,95,117,95,117,117,155,103,117,133,152,133,147,161,180,};
const byte blueFrame2[8*7] PROGMEM = {188,183,182,174,183,174,151,111,193,174,174,129,174,151,129,97,183,151,145,111,145,111,111,97,191,182,174,145,174,151,129,97,183,151,151,111,151,129,111,89,182,151,129,111,129,111,111,80,145,111,97,97,97,89,95,124,};
const byte redFrame3[8*7] PROGMEM = {97,110,119,149,110,132,149,183,88,132,132,156,132,170,170,192,110,156,156,183,149,185,185,187,100,119,132,149,132,156,170,183,110,156,156,185,156,170,185,187,119,170,170,185,170,185,192,187,168,185,192,187,183,187,178,166,};
const byte greenFrame3[8*7] PROGMEM = {158,129,116,104,129,105,104,103,148,105,105,91,105,84,84,95,129,91,91,103,104,90,90,117,140,116,105,104,105,91,84,103,129,91,91,90,91,84,90,117,116,84,84,90,84,90,95,117,101,90,95,117,103,117,133,161,};
const byte blueFrame3[8*7] PROGMEM = {162,188,191,183,188,193,183,145,175,193,193,182,193,174,174,129,188,182,182,145,183,151,151,111,179,191,193,183,193,182,174,145,188,182,182,151,182,174,151,111,191,174,174,151,174,151,129,111,174,151,129,111,145,111,97,95,};
const byte redFrame4[8*7] PROGMEM = {116,97,88,110,97,100,110,149,84,88,110,119,110,119,132,170,97,119,119,149,119,149,156,183,100,88,100,119,100,119,132,168,97,110,119,149,119,132,156,185,88,119,132,156,132,156,170,192,119,156,170,183,168,185,192,178,};
const byte greenFrame4[8*7] PROGMEM = {180,158,148,129,158,140,129,104,168,148,129,116,129,116,105,84,158,116,116,104,116,104,91,103,170,148,140,116,140,116,105,101,158,129,116,104,116,105,91,90,148,116,105,91,105,91,84,95,116,91,84,103,101,90,95,133,};
const byte blueFrame4[8*7] PROGMEM = {124,162,175,188,162,179,188,183,147,175,188,191,188,191,193,174,162,191,191,183,191,183,182,145,138,175,179,191,179,191,193,174,162,188,191,183,191,193,182,151,175,191,193,182,193,182,174,129,191,182,174,145,174,151,129,97,};
const byte redFrame5[8*7] PROGMEM = {136,101,100,97,100,97,97,110,107,84,84,100,97,88,100,132,105,88,100,110,100,110,119,168,136,100,97,100,97,88,100,132,101,97,88,110,88,110,119,156,86,88,100,119,100,119,132,170,97,119,132,168,132,156,170,183,};
const byte greenFrame5[8*7] PROGMEM = {173,179,170,158,170,158,158,129,179,168,168,140,158,148,140,105,169,148,140,129,140,129,116,101,173,170,158,140,158,148,140,105,179,158,148,129,148,129,116,91,175,148,140,116,140,116,105,84,158,116,105,101,105,91,84,103,};
const byte blueFrame5[8*7] PROGMEM = {104,120,138,162,138,162,162,188,100,147,147,179,162,175,179,193,119,175,179,188,179,188,191,174,104,138,162,179,162,175,179,193,120,162,175,188,175,188,191,182,130,175,179,191,179,191,193,174,162,191,193,174,193,182,174,145,};
const byte redFrame6[8*7] PROGMEM = {168,136,136,118,136,116,101,97,156,107,101,100,105,86,84,100,136,105,100,97,100,97,88,119,156,122,105,100,118,100,84,100,136,101,86,97,100,84,88,119,122,86,84,88,84,88,88,132,100,88,100,119,100,119,132,168,};
const byte greenFrame6[8*7] PROGMEM = {147,173,173,170,173,180,179,158,155,179,179,170,169,175,168,140,173,169,170,158,170,158,148,116,152,167,169,170,170,170,168,140,173,179,175,158,170,168,148,116,175,175,168,148,168,148,148,105,170,148,140,116,140,116,105,101,};
const byte blueFrame6[8*7] PROGMEM = {89,104,104,118,104,124,120,162,80,100,120,138,119,130,147,179,104,119,138,162,138,162,175,191,97,101,119,138,118,138,147,179,104,120,130,162,138,147,175,191,88,130,147,175,147,175,175,193,138,175,179,191,179,191,193,174,};
const byte redFrame7[8*7] PROGMEM = {187,168,168,143,168,143,136,116,187,156,143,122,143,122,107,84,168,122,122,105,122,105,100,97,187,156,143,122,156,122,122,100,168,122,122,105,122,101,86,88,168,122,107,100,122,86,86,88,136,100,84,97,100,88,100,132,};
const byte greenFrame7[8*7] PROGMEM = {117,147,147,163,147,163,173,180,117,155,163,167,163,175,179,168,147,167,167,169,167,169,170,158,117,152,163,167,152,167,167,170,147,175,175,169,167,179,175,148,147,175,179,170,167,175,175,148,173,170,168,158,170,148,140,105,};
const byte blueFrame7[8*7] PROGMEM = {111,89,89,89,89,89,104,124,111,80,89,101,89,88,100,147,89,101,101,119,101,119,138,162,111,97,89,101,97,101,101,138,89,88,88,119,101,120,130,175,89,88,100,138,101,130,130,175,104,138,147,162,138,175,179,193,};

//Pastel Blink
const byte redFrame8[8*7] PROGMEM = {160,215,215,215,199,223,215,199,199,160,166,223,223,215,215,199,215,215,199,166,166,215,199,223,166,215,223,160,131,223,223,215,223,166,166,215,199,166,187,166,166,166,131,223,223,215,131,166,131,131,223,131,166,166,223,109,};
const byte greenFrame8[8*7] PROGMEM = {146,158,158,158,113,190,158,95,95,146,211,190,190,158,158,113,158,158,113,211,211,158,113,213,211,158,190,146,196,190,190,158,190,211,211,158,113,211,221,211,211,211,196,190,213,158,196,211,196,196,190,196,211,211,190,201,};
const byte blueFrame8[8*7] PROGMEM = {149,100,100,100,112,75,100,122,122,149,86,75,75,100,100,112,100,100,112,86,86,100,112,62,86,100,75,149,122,75,75,100,75,86,86,100,112,86,62,86,86,86,122,75,62,100,122,86,122,122,75,122,86,86,75,168,};
const byte redFrame9[8*7] PROGMEM = {160,199,199,180,180,199,167,142,181,144,176,199,199,167,167,180,180,199,167,163,176,167,167,199,176,199,199,144,163,199,199,167,199,163,176,176,167,163,176,176,163,176,141,199,199,199,141,163,137,141,176,163,176,176,199,121,};
const byte greenFrame9[8*7] PROGMEM = {146,95,95,94,94,95,107,106,79,118,125,95,95,107,107,94,94,95,107,143,125,107,107,113,125,95,113,118,143,113,113,107,113,143,125,125,107,143,125,125,143,125,146,113,113,113,146,143,169,146,125,143,125,125,113,166,};
const byte blueFrame9[8*7] PROGMEM = {149,122,122,144,144,122,140,170,165,150,101,122,122,140,140,144,144,122,140,90,101,140,140,112,101,122,112,150,90,112,112,140,112,90,101,101,140,90,101,101,90,101,109,112,112,112,109,90,81,109,101,90,101,101,112,105,};
const byte redFrame10[8*7] PROGMEM = {160,181,181,156,142,181,142,142,136,144,180,181,181,167,167,156,156,181,144,199,180,167,142,181,167,181,181,144,167,181,181,167,181,199,180,167,142,199,199,180,199,199,176,180,199,180,176,199,176,176,180,176,199,199,180,163,};
const byte greenFrame10[8*7] PROGMEM = {146,79,79,89,106,79,106,106,95,118,94,79,79,107,107,89,89,79,118,95,94,107,106,79,107,79,79,118,107,79,79,107,79,113,94,107,106,113,95,94,95,95,125,94,95,94,125,95,125,125,94,125,95,95,94,143,};
const byte blueFrame10[8*7] PROGMEM = {149,165,165,180,170,165,170,170,196,150,144,165,165,140,140,180,180,165,150,122,144,140,170,165,140,165,165,150,140,165,165,140,165,112,144,140,170,112,122,144,122,122,101,144,122,144,101,122,101,101,144,101,122,122,144,90,};
const byte redFrame11[8*7] PROGMEM = {160,136,136,116,116,136,142,117,96,144,156,136,136,142,142,116,116,136,117,181,156,142,117,156,180,136,156,144,167,156,156,142,156,180,156,142,116,180,181,156,181,181,167,156,181,142,167,181,199,167,156,180,181,181,156,176,};
const byte greenFrame11[8*7] PROGMEM = {146,95,95,115,115,95,106,130,130,118,89,95,95,106,106,115,115,95,130,79,89,106,130,89,94,95,89,118,107,89,89,106,89,94,89,106,115,94,79,89,79,79,107,89,79,106,107,79,95,107,89,94,79,79,89,125,};
const byte blueFrame11[8*7] PROGMEM = {149,196,196,189,189,196,170,165,190,150,180,196,196,170,170,189,189,196,165,165,180,170,165,180,144,196,180,150,140,180,180,170,180,144,180,170,189,144,165,180,165,165,140,180,165,170,140,165,122,140,180,144,165,165,180,101,};
const byte redFrame12[8*7] PROGMEM = {160,96,96,89,102,96,117,106,85,117,136,96,96,117,117,102,89,96,102,136,116,117,102,116,142,96,116,117,142,116,116,117,116,156,116,116,102,156,136,116,136,136,144,116,116,96,142,136,181,142,116,156,136,136,116,167,};
const byte greenFrame12[8*7] PROGMEM = {146,130,130,143,146,130,130,160,167,130,95,130,130,130,130,146,143,130,146,95,115,130,146,115,106,130,115,130,106,115,115,130,115,89,115,115,146,89,95,115,95,95,118,115,115,130,106,95,79,106,115,89,95,95,115,107,};
const byte blueFrame12[8*7] PROGMEM = {149,190,190,177,157,190,165,131,145,165,196,190,190,165,165,157,177,190,157,196,189,165,157,189,170,190,189,165,170,189,189,165,189,180,189,189,157,180,196,189,196,196,150,189,189,190,170,196,165,170,189,180,196,196,189,140,};
const byte redFrame13[8*7] PROGMEM = {160,85,76,85,106,76,106,121,96,121,89,76,76,121,102,106,85,85,121,96,89,102,106,76,117,85,76,121,117,76,76,102,76,116,89,102,106,116,89,89,96,96,144,102,89,102,142,96,136,117,89,116,96,96,89,142,};
const byte greenFrame13[8*7] PROGMEM = {146,167,160,167,160,160,160,166,179,146,143,160,160,146,146,160,167,167,146,130,143,146,160,160,130,167,160,146,130,160,160,146,160,115,143,146,160,115,143,143,130,130,118,146,143,146,106,130,95,130,143,115,130,130,143,106,};
const byte blueFrame13[8*7] PROGMEM = {149,145,166,145,131,166,131,105,113,135,177,166,166,135,157,131,145,145,135,190,177,157,131,166,165,145,166,135,165,166,166,157,166,189,177,157,131,189,177,177,190,190,150,157,177,157,170,190,196,165,177,189,190,190,177,170,};
const byte redFrame14[8*7] PROGMEM = {160,96,96,121,121,96,121,141,137,121,85,96,96,121,106,121,121,96,141,76,85,106,141,96,102,96,96,121,102,96,96,121,96,76,106,106,121,76,85,85,76,85,117,106,85,106,117,76,96,102,85,102,76,85,85,116,};
const byte greenFrame14[8*7] PROGMEM = {146,179,179,166,166,179,166,146,169,146,167,179,179,146,160,166,166,179,146,160,167,160,146,179,146,179,179,146,146,179,179,166,179,160,160,160,166,160,167,167,160,167,130,160,167,160,130,160,130,146,167,146,160,167,167,115,};
const byte blueFrame14[8*7] PROGMEM = {149,113,113,105,105,113,105,109,81,135,145,113,113,135,131,105,105,113,109,166,145,131,109,113,157,113,113,135,157,113,113,105,113,166,131,131,105,166,145,145,166,145,165,131,145,131,165,166,190,157,145,157,166,145,145,189,};
const byte redFrame15[8*7] PROGMEM = {160,137,137,163,163,137,141,176,176,141,121,137,137,141,141,163,163,137,141,96,121,141,163,137,106,137,137,141,106,137,137,141,137,96,121,121,163,96,96,121,96,96,121,121,96,137,106,96,85,106,121,106,96,96,121,102,};
const byte greenFrame15[8*7] PROGMEM = {146,169,169,143,143,169,146,125,125,146,166,169,169,146,146,143,143,169,146,179,166,146,143,169,160,169,169,146,160,169,169,146,169,179,166,166,143,179,179,166,179,179,146,166,179,169,160,179,167,160,166,160,179,179,166,146,};
const byte blueFrame15[8*7] PROGMEM = {149,81,81,90,90,81,109,101,101,109,105,81,81,109,109,90,90,81,109,113,105,109,90,81,131,81,81,109,131,81,81,109,81,113,105,105,90,113,113,105,113,113,135,105,113,81,131,113,145,131,105,131,113,113,105,157,};

//White Wave
const byte redFrame16[8*7] PROGMEM = {71,32,48,60,60,41,32,134,134,32,54,163,134,48,48,146,212,75,91,115,115,100,75,123,84,94,88,75,78,94,88,88,71,65,54,65,60,60,81,75,100,60,81,78,71,54,48,71,84,81,107,94,115,100,71,94,};
const byte greenFrame16[8*7] PROGMEM = {81,36,55,69,69,47,36,146,146,36,62,172,146,55,55,157,216,86,104,129,129,115,86,136,97,108,101,86,89,108,101,101,81,75,62,75,69,69,93,86,115,69,93,89,81,62,55,81,97,93,122,108,129,115,81,108,};
const byte blueFrame16[8*7] PROGMEM = {106,47,71,90,90,61,47,174,174,47,80,193,174,71,71,182,226,112,136,161,161,150,112,167,126,140,131,112,116,140,131,131,106,97,80,97,90,90,121,112,150,90,121,116,106,80,71,106,126,121,156,140,161,150,106,140,};
const byte redFrame17[8*7] PROGMEM = {54,32,60,107,94,65,41,123,68,60,174,245,225,123,41,134,163,94,163,100,107,115,65,115,134,78,65,48,48,71,91,84,75,78,88,88,78,65,88,71,81,81,115,78,84,75,48,68,84,75,107,97,115,123,78,88,};
const byte greenFrame17[8*7] PROGMEM = {62,36,69,122,108,75,47,136,78,69,182,246,228,136,47,146,172,108,172,115,122,129,75,129,146,89,75,55,55,81,104,97,86,89,101,101,89,75,101,81,93,93,129,89,97,86,55,78,97,86,122,111,129,136,89,101,};
const byte blueFrame17[8*7] PROGMEM = {80,47,90,156,140,97,61,167,101,90,201,248,235,167,61,174,193,140,193,150,156,161,97,161,174,116,97,71,71,106,136,126,112,116,131,131,116,97,131,106,121,121,161,116,126,112,71,101,126,112,156,145,161,167,116,131,};
const byte redFrame18[8*7] PROGMEM = {54,32,75,163,146,97,48,123,65,88,204,245,225,174,48,134,115,115,163,75,75,107,71,100,123,68,60,48,54,71,88,81,78,88,94,65,75,107,88,65,68,81,91,71,88,107,81,60,81,65,81,100,107,123,88,88,};
const byte greenFrame18[8*7] PROGMEM = {62,36,86,172,157,111,55,136,75,101,209,246,228,182,55,146,129,129,172,86,86,122,81,115,136,78,69,55,62,81,101,93,89,101,108,75,86,122,101,75,78,93,104,81,101,122,93,69,93,75,93,115,122,136,101,101,};
const byte blueFrame18[8*7] PROGMEM = {80,47,112,193,182,145,71,167,97,131,221,248,235,201,71,174,161,161,193,112,112,156,106,150,167,101,90,71,80,106,131,121,116,131,140,97,112,156,131,97,101,121,136,106,131,156,121,90,121,97,121,150,156,167,131,131,};
const byte redFrame19[8*7] PROGMEM = {60,32,84,174,146,123,71,115,65,94,225,225,204,185,65,123,107,107,146,75,65,88,75,97,123,71,54,54,60,78,84,78,71,94,97,48,68,123,94,60,60,71,71,60,71,115,115,65,78,60,68,97,100,107,88,94,};
const byte greenFrame19[8*7] PROGMEM = {69,36,97,182,157,136,81,129,75,108,228,228,209,192,75,136,122,122,157,86,75,101,86,111,136,81,62,62,69,89,97,89,81,108,111,55,78,136,108,69,69,81,81,69,81,129,129,75,89,69,78,111,115,122,101,108,};
const byte blueFrame19[8*7] PROGMEM = {90,47,126,201,182,167,106,161,97,140,235,235,221,208,97,167,156,156,182,112,97,131,112,145,167,106,80,80,90,116,126,116,106,140,145,71,101,167,140,90,90,106,106,90,106,161,161,97,116,90,101,145,150,156,131,140,};
const byte redFrame20[8*7] PROGMEM = {60,41,84,174,146,134,78,115,60,94,225,225,204,185,68,115,100,107,146,84,65,78,75,97,123,71,54,60,60,78,84,75,71,91,97,41,60,123,97,60,60,71,65,54,60,107,123,65,78,54,65,94,97,97,88,94,};
const byte greenFrame20[8*7] PROGMEM = {69,47,97,182,157,146,89,129,69,108,228,228,209,192,78,129,115,122,157,97,75,89,86,111,136,81,62,69,69,89,97,86,81,104,111,47,69,136,111,69,69,81,75,62,69,122,136,75,89,62,75,108,111,111,101,108,};
const byte blueFrame20[8*7] PROGMEM = {90,61,126,201,182,174,116,161,90,140,235,235,221,208,101,161,150,156,182,126,97,116,112,145,167,106,80,90,90,116,126,112,106,136,145,61,90,167,145,90,90,106,97,80,90,156,167,97,116,80,97,140,145,145,131,140,};
const byte redFrame21[8*7] PROGMEM = {60,32,78,163,146,123,71,115,65,88,212,245,212,192,65,115,100,107,163,91,75,88,75,94,123,71,54,60,60,71,84,78,71,94,97,48,65,123,97,60,60,75,71,54,60,115,123,65,78,54,65,94,94,100,88,97,};
const byte greenFrame21[8*7] PROGMEM = {69,36,89,172,157,136,81,129,75,101,216,246,216,198,75,129,115,122,172,104,86,101,86,108,136,81,62,69,69,81,97,89,81,108,111,55,75,136,111,69,69,86,81,62,69,129,136,75,89,62,75,108,108,115,101,111,};
const byte blueFrame21[8*7] PROGMEM = {90,47,116,193,182,167,106,161,97,131,226,248,226,213,97,161,150,156,193,136,112,131,112,140,167,106,80,90,90,106,126,116,106,140,145,71,97,167,145,90,90,112,106,80,90,161,167,97,116,80,97,140,140,150,131,145,};
const byte redFrame22[8*7] PROGMEM = {60,32,68,146,134,94,54,123,68,78,192,245,225,174,48,134,115,107,174,94,91,115,71,94,123,71,60,41,48,68,88,81,78,91,91,65,71,107,91,60,65,84,84,60,78,115,94,60,78,60,75,94,100,115,88,94,};
const byte greenFrame22[8*7] PROGMEM = {69,36,78,157,146,108,62,136,78,89,198,246,228,182,55,146,129,122,182,108,104,129,81,108,136,81,69,47,55,78,101,93,89,104,104,75,81,122,104,69,75,97,97,69,89,129,108,69,89,69,86,108,115,129,101,108,};
const byte blueFrame22[8*7] PROGMEM = {90,47,101,182,174,140,80,167,101,116,213,248,235,201,71,174,161,156,201,140,136,161,106,140,167,106,90,61,71,101,131,121,116,136,136,97,106,156,136,90,97,126,126,90,116,161,140,90,116,90,112,140,150,161,131,140,};
const byte redFrame23[8*7] PROGMEM = {54,32,48,94,88,65,48,123,60,54,134,225,225,107,32,146,163,84,155,134,123,123,65,107,134,75,71,48,41,71,88,81,78,75,84,84,78,71,91,71,71,84,107,75,81,78,65,60,81,71,107,100,115,134,78,91,};
const byte greenFrame23[8*7] PROGMEM = {62,36,55,108,101,75,55,136,69,62,146,228,228,122,36,157,172,97,165,146,136,136,75,122,146,86,81,55,47,81,101,93,89,86,97,97,89,81,104,81,81,97,122,86,93,89,75,69,93,81,122,115,129,146,89,104,};
const byte blueFrame23[8*7] PROGMEM = {80,47,71,140,131,97,71,167,90,80,174,235,235,156,47,182,193,126,188,174,167,167,97,156,174,112,106,71,61,106,131,121,116,112,126,126,116,106,136,106,106,126,156,112,121,116,97,90,121,106,156,150,161,174,116,136,};
const byte redFrame24[8*7] PROGMEM = {54,41,54,48,48,48,32,123,115,41,32,68,68,32,54,146,204,84,60,94,97,75,84,123,84,91,97,94,100,97,84,88,75,54,48,60,60,60,78,75,94,60,78,75,65,48,48,65,84,88,107,94,123,107,68,94,};
const byte greenFrame24[8*7] PROGMEM = {62,47,62,55,55,55,36,136,129,47,36,78,78,36,62,157,209,97,69,108,111,86,97,136,97,104,111,108,115,111,97,101,86,62,55,69,69,69,89,86,108,69,89,86,75,55,55,75,97,101,122,108,136,122,78,108,};
const byte blueFrame24[8*7] PROGMEM = {80,61,80,71,71,71,47,167,161,61,47,101,101,47,80,182,221,126,90,140,145,112,126,167,126,136,145,140,150,145,126,131,112,80,71,90,90,90,116,112,140,90,116,112,97,71,71,97,126,131,156,140,167,156,101,140,};
const byte redFrame25[8*7] PROGMEM = {75,32,54,48,48,41,32,146,174,60,32,48,54,48,71,123,163,134,91,115,115,88,115,107,78,115,75,75,65,78,107,94,94,54,48,68,48,48,68,75,94,54,84,88,81,54,41,71,84,65,88,107,123,88,75,97,};
const byte greenFrame25[8*7] PROGMEM = {86,36,62,55,55,47,36,157,182,69,36,55,62,55,81,136,172,146,104,129,129,101,129,122,89,129,86,86,75,89,122,108,108,62,55,78,55,55,78,86,108,62,97,101,93,62,47,81,97,75,101,122,136,101,86,111,};
const byte blueFrame25[8*7] PROGMEM = {112,47,80,71,71,61,47,182,201,90,47,71,80,71,106,167,193,174,136,161,161,131,161,156,116,161,112,112,97,116,156,140,140,80,71,101,71,71,101,112,140,80,126,131,121,80,61,106,126,97,131,156,167,131,112,145,};
const byte redFrame26[8*7] PROGMEM = {100,48,48,48,54,48,41,155,192,146,71,60,94,115,97,107,192,225,155,134,163,174,174,94,146,185,134,123,107,91,123,91,115,78,48,60,75,41,54,68,71,41,48,60,88,48,54,78,75,48,75,107,88,65,88,97,};
const byte greenFrame26[8*7] PROGMEM = {115,55,55,55,62,55,47,165,198,157,81,69,108,129,111,122,198,228,165,146,172,182,182,108,157,192,146,136,122,104,136,104,129,89,55,69,86,47,62,78,81,47,55,69,101,55,62,89,86,55,86,122,101,75,101,111,};
const byte blueFrame26[8*7] PROGMEM = {150,71,71,71,80,71,61,188,213,182,106,90,140,161,145,156,213,235,188,174,193,201,201,140,182,208,174,167,156,136,167,136,161,116,71,90,112,61,80,101,106,61,71,90,131,71,80,116,112,71,112,156,131,97,131,145,};
const byte redFrame27[8*7] PROGMEM = {134,81,48,54,75,84,75,155,212,174,68,84,185,155,134,107,204,204,163,185,212,212,192,88,174,192,192,185,155,134,155,84,146,94,71,88,78,54,75,71,84,48,32,48,54,48,71,78,71,48,60,75,60,65,88,91,};
const byte greenFrame27[8*7] PROGMEM = {146,93,55,62,86,97,86,165,216,182,78,97,192,165,146,122,209,209,172,192,216,216,198,101,182,198,198,192,165,146,165,97,157,108,81,101,89,62,86,81,97,55,36,55,62,55,81,89,81,55,69,86,69,75,101,104,};
const byte blueFrame27[8*7] PROGMEM = {174,121,71,80,112,126,112,188,226,201,101,126,208,188,174,156,221,221,193,208,226,226,213,131,201,213,213,208,188,174,188,126,182,140,106,131,116,80,112,106,126,71,47,71,80,71,106,116,106,71,90,112,90,97,131,136,};
const byte redFrame28[8*7] PROGMEM = {163,97,48,48,71,84,91,155,212,174,68,84,163,146,134,107,204,204,155,185,212,212,174,88,185,185,163,163,146,115,146,81,146,81,60,75,71,48,71,71,94,48,32,60,60,48,71,78,71,48,60,81,60,71,88,84,};
const byte greenFrame28[8*7] PROGMEM = {172,111,55,55,81,97,104,165,216,182,78,97,172,157,146,122,209,209,165,192,216,216,182,101,192,192,172,172,157,129,157,93,157,93,69,86,81,55,81,81,108,55,36,69,69,55,81,89,81,55,69,93,69,81,101,97,};
const byte blueFrame28[8*7] PROGMEM = {193,145,71,71,106,126,136,188,226,201,101,126,193,182,174,156,221,221,188,208,226,226,201,131,208,208,193,193,182,161,182,121,182,121,90,112,106,71,106,106,140,71,47,90,90,71,106,116,106,71,90,121,90,106,131,126,};
const byte redFrame29[8*7] PROGMEM = {192,97,48,48,60,68,88,146,204,174,75,60,78,97,123,100,204,212,123,97,123,146,163,88,185,155,97,91,91,91,123,78,134,60,54,75,60,41,54,75,88,48,48,84,78,41,60,84,78,41,71,100,71,75,94,78,};
const byte greenFrame29[8*7] PROGMEM = {198,111,55,55,69,78,101,157,209,182,86,69,89,111,136,115,209,216,136,111,136,157,172,101,192,165,111,104,104,104,136,89,146,69,62,86,69,47,62,86,101,55,55,97,89,47,69,97,89,47,81,115,81,86,108,89,};
const byte blueFrame29[8*7] PROGMEM = {213,145,71,71,90,101,131,182,221,201,112,90,116,145,167,150,221,226,167,145,167,182,193,131,208,188,145,136,136,136,167,116,174,90,80,112,90,61,80,112,131,71,71,126,116,61,90,126,116,61,106,150,106,112,140,116,};
const byte redFrame30[8*7] PROGMEM = {204,94,41,48,48,48,75,146,204,155,68,54,48,60,88,94,212,185,88,107,100,91,134,84,185,107,71,71,68,94,115,78,115,48,78,60,41,60,65,71,78,48,78,88,71,41,48,88,81,41,81,123,81,75,91,78,};
const byte greenFrame30[8*7] PROGMEM = {209,108,47,55,55,55,86,157,209,165,78,62,55,69,101,108,216,192,101,122,115,104,146,97,192,122,81,81,78,108,129,89,129,55,89,69,47,69,75,81,89,55,89,101,81,47,55,101,93,47,93,136,93,86,104,89,};
const byte blueFrame30[8*7] PROGMEM = {221,140,61,71,71,71,112,182,221,188,101,80,71,90,131,140,226,208,131,156,150,136,174,126,208,156,106,106,101,140,161,116,161,71,116,90,61,90,97,106,116,71,116,131,106,61,71,131,121,61,121,167,121,112,136,116,};
const byte redFrame31[8*7] PROGMEM = {204,91,41,48,48,48,71,146,212,134,48,48,41,48,65,94,212,163,88,115,94,78,115,84,185,94,60,71,75,94,107,84,107,41,71,54,48,75,75,71,75,54,94,84,68,41,48,84,84,41,88,123,84,75,88,78,};
const byte greenFrame31[8*7] PROGMEM = {209,104,47,55,55,55,81,157,216,146,55,55,47,55,75,108,216,172,101,129,108,89,129,97,192,108,69,81,86,108,122,97,122,47,81,62,55,86,86,81,86,62,108,97,78,47,55,97,97,47,101,136,97,86,101,89,};
const byte blueFrame31[8*7] PROGMEM = {221,136,61,71,71,71,106,182,226,174,71,71,61,71,97,140,226,193,131,161,140,116,161,126,208,140,90,106,112,140,156,126,156,61,106,80,71,112,112,106,112,80,140,126,101,61,71,126,126,61,131,167,126,112,131,116,};
const byte redFrame32[8*7] PROGMEM = {204,84,41,54,48,48,68,146,212,115,41,41,41,41,54,94,204,146,88,94,75,71,107,88,174,94,60,68,84,97,107,84,115,41,60,48,54,78,75,71,78,54,94,81,65,48,48,88,91,41,88,123,88,75,84,78,};
const byte greenFrame32[8*7] PROGMEM = {209,97,47,62,55,55,78,157,216,129,47,47,47,47,62,108,209,157,101,108,86,81,122,101,182,108,69,78,97,111,122,97,129,47,69,55,62,89,86,81,89,62,108,93,75,55,55,101,104,47,101,136,101,86,97,89,};
const byte blueFrame32[8*7] PROGMEM = {221,126,61,80,71,71,101,182,226,161,61,61,61,61,80,140,221,182,131,140,112,106,156,131,201,140,90,101,126,145,156,126,161,61,90,71,80,116,112,106,116,80,140,121,97,71,71,131,136,61,131,167,131,112,126,116,};
const byte redFrame33[8*7] PROGMEM = {204,71,41,54,48,48,65,146,212,100,32,41,41,41,54,94,204,146,81,81,71,71,107,91,163,100,65,71,91,94,107,88,115,48,48,48,54,75,75,71,84,48,91,81,68,48,48,84,91,41,88,123,97,75,84,78,};
const byte greenFrame33[8*7] PROGMEM = {209,81,47,62,55,55,75,157,216,115,36,47,47,47,62,108,209,157,93,93,81,81,122,104,172,115,75,81,104,108,122,101,129,55,55,55,62,86,86,81,97,55,104,93,78,55,55,97,104,47,101,136,111,86,97,89,};
const byte blueFrame33[8*7] PROGMEM = {221,106,61,80,71,71,97,182,226,150,47,61,61,61,80,140,221,182,121,121,106,106,156,136,193,150,97,106,136,140,156,131,161,71,71,71,80,112,112,106,126,71,136,121,101,71,71,126,136,61,131,167,145,112,126,116,};
const byte redFrame34[8*7] PROGMEM = {163,48,48,54,48,48,54,146,192,75,32,41,41,41,54,97,174,115,71,81,81,68,107,94,115,107,78,81,97,94,100,91,107,60,41,48,54,71,75,71,84,54,88,81,65,48,48,78,88,41,94,123,115,75,78,81,};
const byte greenFrame34[8*7] PROGMEM = {172,55,55,62,55,55,62,157,198,86,36,47,47,47,62,111,182,129,81,93,93,78,122,108,129,122,89,93,111,108,115,104,122,69,47,55,62,81,86,81,97,62,101,93,75,55,55,89,101,47,108,136,129,86,89,93,};
const byte blueFrame34[8*7] PROGMEM = {193,71,71,80,71,71,80,182,213,112,47,61,61,61,80,145,201,161,106,121,121,101,156,140,161,156,116,121,145,140,150,136,156,90,61,71,80,106,112,106,126,80,131,121,97,71,71,116,131,61,140,167,161,112,116,121,};
const byte redFrame35[8*7] PROGMEM = {94,41,54,48,48,48,41,146,174,41,32,60,60,32,54,123,155,88,60,94,97,71,94,107,60,97,94,94,100,97,94,91,88,60,48,54,60,60,78,71,88,60,78,78,68,54,41,75,78,54,94,115,123,88,75,88,};
const byte greenFrame35[8*7] PROGMEM = {108,47,62,55,55,55,47,157,182,47,36,69,69,36,62,136,165,101,69,108,111,81,108,122,69,111,108,108,115,111,108,104,101,69,55,62,69,69,89,81,101,69,89,89,78,62,47,86,89,62,108,129,136,101,86,101,};
const byte blueFrame35[8*7] PROGMEM = {140,61,80,71,71,71,61,182,201,61,47,90,90,47,80,167,188,131,90,140,145,106,140,156,90,145,140,140,150,145,140,136,131,90,71,80,90,90,116,106,131,90,116,116,101,80,61,112,116,80,140,161,167,131,112,131,};

//Rainbow Spiral
const byte redFrame36[8*7] PROGMEM = {238,231,232,235,238,123,31,84,235,232,232,235,238,182,45,31,244,232,232,235,182,151,123,33,236,244,232,123,45,106,84,42,236,244,244,48,33,45,47,42,150,150,202,150,93,37,39,42,202,105,105,150,105,37,39,42,};
const byte greenFrame36[8*7] PROGMEM = {201,98,35,159,201,226,237,232,159,35,35,159,201,215,237,237,26,35,35,159,215,233,226,242,56,26,35,226,237,240,232,242,56,26,26,205,242,237,156,242,38,38,41,38,113,76,117,242,41,51,51,38,51,76,117,242,};
const byte blueFrame36[8*7] PROGMEM = {39,46,40,41,39,69,95,85,41,40,40,41,39,44,62,95,180,40,40,41,44,33,69,158,181,180,40,69,62,36,85,237,181,180,180,232,158,62,179,237,226,226,207,226,228,237,234,237,207,234,234,226,234,237,234,237,};
const byte redFrame37[8*7] PROGMEM = {238,231,232,238,238,123,31,31,231,232,232,235,238,182,84,31,244,232,232,238,151,151,123,33,202,244,232,75,45,106,84,42,236,244,244,48,33,45,47,48,202,202,202,105,37,39,37,42,202,105,105,150,105,37,39,42,};
const byte greenFrame37[8*7] PROGMEM = {201,98,35,201,201,226,237,237,98,35,35,159,201,215,232,237,26,35,35,201,233,233,226,242,41,26,35,228,237,240,232,242,56,26,26,205,242,237,156,205,41,41,41,51,165,117,76,242,41,51,51,38,51,76,117,242,};
const byte blueFrame37[8*7] PROGMEM = {39,46,40,39,39,69,95,95,46,40,40,41,39,44,85,95,180,40,40,39,33,33,69,158,207,180,40,155,62,36,85,237,181,180,180,232,158,62,179,232,207,207,207,234,235,234,237,237,207,234,234,226,234,237,234,237,};
const byte redFrame38[8*7] PROGMEM = {238,232,231,238,235,182,31,31,231,232,231,238,238,151,123,31,209,232,231,238,151,151,123,75,236,209,232,48,45,45,45,42,236,244,202,37,42,45,34,48,202,202,202,93,48,47,37,48,150,105,105,150,105,37,39,42,};
const byte greenFrame38[8*7] PROGMEM = {201,35,98,201,159,215,237,237,98,35,98,201,201,233,226,237,41,35,98,201,233,233,226,228,56,41,35,205,237,237,237,242,56,26,41,165,242,237,192,205,41,41,41,113,205,156,76,205,38,51,51,38,51,76,117,242,};
const byte blueFrame38[8*7] PROGMEM = {39,40,46,39,41,44,95,95,46,40,46,39,39,33,69,95,120,40,46,39,33,33,69,155,181,120,40,232,62,62,62,237,181,180,207,235,237,62,105,232,207,207,207,228,232,179,237,232,226,234,234,226,234,237,234,237,};
const byte redFrame39[8*7] PROGMEM = {238,232,231,238,235,182,31,31,231,232,231,238,182,151,123,31,209,232,231,182,106,106,151,75,236,232,209,37,31,45,45,42,236,244,150,37,42,31,34,48,202,202,244,93,48,37,37,48,150,105,150,150,150,37,37,48,};
const byte greenFrame39[8*7] PROGMEM = {201,35,98,201,159,215,237,237,98,35,98,201,215,233,226,237,41,35,98,215,240,240,233,228,56,35,41,165,237,237,237,242,56,26,38,165,242,237,192,205,41,41,26,113,205,165,76,205,38,51,38,38,38,76,76,205,};
const byte blueFrame39[8*7] PROGMEM = {39,40,46,39,41,44,95,95,46,40,46,39,44,33,69,95,120,40,46,44,36,36,33,155,181,40,120,235,95,62,62,237,181,180,226,235,237,95,105,232,207,207,180,228,232,235,237,232,226,234,226,226,226,237,237,232,};
const byte redFrame40[8*7] PROGMEM = {238,232,231,238,235,182,31,31,232,232,231,238,182,151,151,84,232,232,231,182,106,106,151,75,236,232,209,39,33,45,45,42,236,244,150,37,42,31,34,48,202,244,202,93,42,48,37,37,150,105,150,150,105,37,37,48,};
const byte greenFrame40[8*7] PROGMEM = {201,35,98,201,159,215,237,237,35,35,98,201,215,233,233,232,35,35,98,215,240,240,233,228,56,35,41,117,242,237,237,242,56,26,38,165,242,237,192,205,41,26,41,113,242,205,76,165,38,51,38,38,51,76,76,205,};
const byte blueFrame40[8*7] PROGMEM = {39,40,46,39,41,44,95,95,40,40,46,39,44,33,33,85,40,40,46,44,36,36,33,155,181,40,120,234,158,62,62,237,181,180,226,235,237,95,105,232,207,180,207,228,237,232,237,235,226,234,226,226,234,237,237,232,};
const byte redFrame41[8*7] PROGMEM = {235,232,235,238,238,182,45,31,232,232,235,238,182,151,151,84,232,232,231,151,106,106,106,75,236,232,209,37,33,45,45,33,236,244,105,39,42,33,45,48,236,244,202,39,42,42,37,37,150,150,150,150,105,37,37,48,};
const byte greenFrame41[8*7] PROGMEM = {159,35,159,201,201,215,237,237,35,35,159,201,215,233,233,232,35,35,98,160,240,240,240,228,56,35,41,76,242,237,237,242,56,26,51,117,242,242,237,205,56,26,41,117,242,242,76,165,38,38,38,38,51,76,76,205,};
const byte blueFrame41[8*7] PROGMEM = {41,40,41,39,39,44,62,95,40,40,41,39,44,33,33,85,40,40,46,100,36,36,36,155,181,40,120,237,158,62,62,158,181,180,234,234,237,158,62,232,181,180,207,234,237,237,237,235,226,226,226,226,234,237,237,232,};
const byte redFrame42[8*7] PROGMEM = {235,232,235,238,238,151,84,31,232,232,235,238,151,151,151,84,232,232,231,132,45,106,106,75,236,232,150,37,33,31,45,33,236,244,105,39,42,33,45,48,236,244,202,39,42,42,39,37,150,150,202,150,93,93,37,37,};
const byte greenFrame42[8*7] PROGMEM = {159,35,159,201,201,233,232,237,35,35,159,201,233,233,233,232,35,35,98,145,237,240,240,228,56,35,38,76,242,237,237,242,56,26,51,117,242,242,237,205,56,26,41,117,242,242,117,165,38,38,41,38,113,113,76,165,};
const byte blueFrame42[8*7] PROGMEM = {41,40,41,39,39,33,85,95,40,40,41,39,33,33,33,85,40,40,46,150,62,36,36,155,181,40,226,237,158,95,62,158,181,180,234,234,237,158,62,232,181,180,207,234,237,237,234,235,226,226,207,226,228,228,237,235,};
const byte redFrame43[8*7] PROGMEM = {231,232,235,238,238,151,84,31,232,232,238,182,151,151,151,84,232,232,231,142,84,45,106,75,209,232,150,105,48,31,45,33,236,209,105,37,48,42,45,75,236,244,150,37,42,42,39,39,202,150,202,105,93,93,37,37,};
const byte greenFrame43[8*7] PROGMEM = {98,35,159,201,201,233,232,237,35,35,201,215,233,233,233,232,35,35,98,104,232,237,240,228,41,35,38,51,205,237,237,242,56,41,51,76,205,242,237,228,56,26,38,76,242,242,117,117,41,38,41,51,113,113,76,165,};
const byte blueFrame43[8*7] PROGMEM = {46,40,41,39,39,33,85,95,40,40,39,44,33,33,33,85,40,40,46,152,85,62,36,155,120,40,226,234,232,95,62,158,181,120,234,237,232,237,62,155,181,180,226,237,237,237,234,234,207,226,207,234,228,228,237,235,};
const byte redFrame44[8*7] PROGMEM = {231,232,238,238,182,151,123,31,232,232,238,182,106,151,151,123,232,231,231,236,105,45,45,75,232,232,150,150,37,31,45,33,236,209,105,37,37,42,31,75,236,244,105,37,48,42,37,39,202,202,202,105,93,37,37,39,};
const byte greenFrame44[8*7] PROGMEM = {98,35,201,201,215,233,226,237,35,35,201,215,240,233,233,226,35,98,98,56,174,237,237,228,35,35,38,38,165,237,237,242,56,41,51,76,165,242,237,228,56,26,51,76,205,242,165,117,41,41,41,51,113,165,76,117,};
const byte blueFrame44[8*7] PROGMEM = {46,40,39,39,44,33,69,95,40,40,39,44,36,33,33,69,40,46,46,181,106,62,62,155,40,40,226,226,235,95,62,158,181,120,234,237,235,237,95,155,181,180,234,237,232,237,235,234,207,207,207,234,228,235,237,234,};
const byte redFrame45[8*7] PROGMEM = {231,232,238,238,182,151,123,84,232,231,238,182,106,151,151,123,232,231,231,244,105,45,45,75,232,232,150,150,39,33,45,31,236,209,105,37,37,42,31,31,236,244,105,37,37,42,48,39,202,202,202,105,93,48,37,39,};
const byte greenFrame45[8*7] PROGMEM = {98,35,201,201,215,233,226,232,35,98,201,215,240,233,233,226,35,98,98,26,174,237,237,228,35,35,38,38,117,242,237,237,56,41,51,76,165,242,237,237,56,26,51,76,165,242,205,117,41,41,41,51,113,205,76,117,};
const byte blueFrame45[8*7] PROGMEM = {46,40,39,39,44,33,69,85,40,46,39,44,36,33,33,69,40,46,46,180,106,62,62,155,40,40,226,226,234,158,62,95,181,120,234,237,235,237,95,95,181,180,234,237,235,237,232,234,207,207,207,234,228,232,237,234,};
const byte redFrame46[8*7] PROGMEM = {231,231,238,238,151,151,151,84,232,231,238,182,106,106,151,123,232,231,236,244,151,31,45,31,232,209,150,150,93,33,45,31,236,209,105,37,37,42,33,31,236,244,105,37,37,42,42,39,202,244,202,37,93,48,39,37,};
const byte greenFrame46[8*7] PROGMEM = {98,98,201,201,233,233,233,232,35,98,201,215,240,240,233,226,35,98,56,26,160,237,237,237,35,41,38,38,113,242,237,237,56,41,51,76,165,242,242,237,56,26,51,76,165,242,242,117,41,26,41,76,113,205,117,76,};
const byte blueFrame46[8*7] PROGMEM = {46,46,39,39,33,33,33,85,40,46,39,44,36,36,33,69,40,46,181,180,100,95,62,95,40,120,226,226,228,158,62,95,181,120,234,237,235,237,158,95,181,180,234,237,235,237,237,234,207,180,207,237,228,232,234,237,};
const byte redFrame47[8*7] PROGMEM = {232,231,238,182,151,151,151,84,232,235,238,170,106,106,123,123,232,231,236,244,231,31,31,31,232,209,150,202,105,33,31,45,209,209,105,105,39,42,33,31,236,244,105,37,39,42,42,39,236,244,150,37,39,48,39,37,};
const byte greenFrame47[8*7] PROGMEM = {35,98,201,215,233,233,233,232,35,159,201,167,240,240,226,226,35,98,56,26,98,237,237,237,35,41,38,41,51,242,237,237,41,41,51,51,117,242,242,237,56,26,51,76,117,242,242,117,56,26,38,76,117,205,117,76,};
const byte blueFrame47[8*7] PROGMEM = {40,46,39,44,33,33,33,85,40,41,39,45,36,36,69,69,40,46,181,180,46,95,95,95,40,120,226,207,234,158,95,62,120,120,234,234,234,237,158,95,181,180,234,237,234,237,237,234,181,180,226,237,234,232,234,237,};
const byte redFrame48[8*7] PROGMEM = {232,231,238,182,151,151,151,84,232,235,238,170,106,106,123,123,232,231,236,244,232,31,31,31,232,209,150,202,150,48,31,45,209,150,105,105,39,42,42,31,236,202,105,37,39,42,42,37,236,244,150,37,39,42,37,37,};
const byte greenFrame48[8*7] PROGMEM = {35,98,201,215,233,233,233,232,35,159,201,167,240,240,226,226,35,98,56,26,35,237,237,237,35,41,38,41,38,205,237,237,41,38,51,51,117,242,242,237,56,41,51,76,117,242,242,165,56,26,38,76,117,242,165,76,};
const byte blueFrame48[8*7] PROGMEM = {40,46,39,44,33,33,33,85,40,41,39,45,36,36,69,69,40,46,181,180,40,95,95,95,40,120,226,207,226,232,95,62,120,226,234,234,234,237,237,95,181,207,234,237,234,237,237,235,181,180,226,237,234,237,235,237,};
const byte redFrame49[8*7] PROGMEM = {232,235,238,151,106,151,151,123,232,235,235,231,170,45,84,123,232,231,244,232,232,31,31,31,232,202,202,202,209,48,33,45,209,150,150,105,37,48,42,33,236,202,105,37,37,48,42,37,236,244,105,39,37,42,37,37,};
const byte greenFrame49[8*7] PROGMEM = {35,159,201,233,240,233,233,226,35,159,159,98,167,237,232,226,35,98,26,35,35,237,237,237,35,41,41,41,41,205,242,237,41,38,38,51,76,205,242,242,56,41,51,76,76,205,242,165,56,26,51,117,76,242,165,76,};
const byte blueFrame49[8*7] PROGMEM = {40,41,39,33,36,33,33,69,40,41,41,46,45,62,85,69,40,46,180,40,40,95,95,95,40,207,207,207,120,232,158,62,120,226,226,234,237,232,237,158,181,207,234,237,237,232,237,235,181,180,234,234,237,237,235,237,};
const byte redFrame50[8*7] PROGMEM = {232,235,238,151,106,151,151,123,232,238,235,231,170,45,84,84,231,236,244,232,231,84,31,31,232,202,202,244,209,48,33,45,209,150,150,150,37,37,42,33,236,150,105,37,37,48,42,48,236,244,105,39,37,48,48,37,};
const byte greenFrame50[8*7] PROGMEM = {35,159,201,233,240,233,233,226,35,201,159,98,167,237,232,232,98,56,26,35,98,232,237,237,35,41,41,26,41,205,242,237,41,38,38,38,76,165,242,242,56,38,51,76,76,205,242,205,56,26,51,117,76,205,205,76,};
const byte blueFrame50[8*7] PROGMEM = {40,41,39,33,36,33,33,69,40,39,41,46,45,62,85,85,46,181,180,40,46,85,95,95,40,207,207,180,120,232,158,62,120,226,226,226,237,235,237,158,181,226,234,237,237,232,237,232,181,180,234,234,237,232,232,237,};
const byte redFrame51[8*7] PROGMEM = {231,238,238,151,106,151,151,123,231,238,231,232,170,45,45,84,231,236,244,232,231,84,31,31,232,244,202,244,231,75,42,45,209,150,150,150,105,37,42,33,236,150,105,37,37,37,42,48,236,244,105,39,37,48,42,39,};
const byte greenFrame51[8*7] PROGMEM = {98,201,201,233,240,233,233,226,98,201,98,35,167,237,237,232,98,56,26,35,98,232,237,237,35,26,41,26,98,228,242,237,41,38,38,38,51,165,242,242,56,38,51,76,76,165,242,205,56,26,51,117,76,205,242,117,};
const byte blueFrame51[8*7] PROGMEM = {46,39,39,33,36,33,33,69,46,39,46,40,45,62,62,85,46,181,180,40,46,85,95,95,40,180,207,180,46,155,237,62,120,226,226,226,234,235,237,158,181,226,234,237,237,235,237,232,181,180,234,234,237,232,237,234,};
const byte redFrame52[8*7] PROGMEM = {231,238,238,151,106,123,151,123,231,238,231,232,170,45,45,84,231,236,244,232,231,123,31,31,232,244,202,244,235,75,42,45,209,150,150,150,105,37,42,42,236,105,150,105,37,39,42,42,236,244,105,39,37,37,42,39,};
const byte greenFrame52[8*7] PROGMEM = {98,201,201,233,240,226,233,226,98,201,98,35,167,237,237,232,98,56,26,35,98,226,237,237,35,26,41,26,159,228,242,237,41,38,38,38,51,165,242,242,56,51,38,51,76,117,242,242,56,26,51,117,76,165,242,117,};
const byte blueFrame52[8*7] PROGMEM = {46,39,39,33,36,69,33,69,46,39,46,40,45,62,62,85,46,181,180,40,46,69,95,95,40,180,207,180,41,155,237,62,120,226,226,226,234,235,237,237,181,234,226,234,237,234,237,237,181,180,234,234,237,235,237,234,};
const byte redFrame53[8*7] PROGMEM = {231,238,238,182,123,106,151,123,231,235,232,232,235,84,31,84,231,236,209,232,235,182,31,45,209,244,244,209,235,84,42,31,209,150,150,202,142,37,42,42,202,105,150,105,37,39,42,42,236,202,105,39,37,39,42,39,};
const byte greenFrame53[8*7] PROGMEM = {98,201,201,215,226,240,233,226,98,159,35,35,159,232,237,232,98,56,41,35,159,215,237,237,41,26,26,41,159,232,242,237,41,38,38,41,104,165,242,242,41,51,38,51,76,117,242,242,56,41,51,117,76,117,242,117,};
const byte blueFrame53[8*7] PROGMEM = {46,39,39,44,69,36,33,69,46,41,40,40,41,85,95,85,46,181,120,40,41,44,95,62,120,180,180,120,41,85,237,95,120,226,226,207,152,235,237,237,207,234,226,234,237,234,237,237,181,207,234,234,237,234,237,234,};
const byte redFrame54[8*7] PROGMEM = {231,238,235,170,123,84,123,123,235,235,232,232,235,84,31,31,231,202,232,232,235,182,33,45,209,244,244,232,238,84,42,33,209,150,202,202,142,47,48,42,202,105,150,105,37,37,42,42,236,202,105,37,37,39,42,37,};
const byte greenFrame54[8*7] PROGMEM = {98,201,159,167,226,232,226,226,159,159,35,35,159,232,237,237,98,41,35,35,159,215,242,237,41,26,26,35,201,232,242,242,41,38,41,41,104,156,205,242,41,51,38,51,76,76,242,242,56,41,51,76,76,117,242,165,};
const byte blueFrame54[8*7] PROGMEM = {46,39,41,45,69,85,69,69,41,41,40,40,41,85,95,95,46,207,40,40,41,44,158,62,120,180,180,40,39,85,237,158,120,226,207,207,152,179,232,237,207,234,226,234,237,237,237,237,181,207,234,237,237,234,237,235,};
const byte redFrame55[8*7] PROGMEM = {235,238,235,170,151,84,106,123,235,235,232,232,238,123,31,31,209,244,232,232,235,182,33,45,209,244,244,231,151,106,48,33,209,202,202,202,105,47,48,42,202,105,150,150,105,37,42,42,236,202,150,37,37,39,42,37,};
const byte greenFrame55[8*7] PROGMEM = {159,201,159,167,233,232,240,226,159,159,35,35,201,226,237,237,41,26,35,35,159,215,242,237,41,26,26,98,233,240,205,242,41,41,41,41,174,156,205,242,41,51,38,38,51,76,242,242,56,41,38,76,76,117,242,165,};
const byte blueFrame55[8*7] PROGMEM = {41,39,41,45,33,85,36,69,41,41,40,40,39,69,95,95,120,180,40,40,41,44,158,62,120,180,180,46,33,36,232,158,120,207,207,207,106,179,232,237,207,234,226,226,234,237,237,237,181,207,226,237,237,234,237,235,};
const byte redFrame56[8*7] PROGMEM = {235,238,231,170,182,84,84,123,235,231,232,232,238,123,31,31,236,244,232,231,238,182,33,31,244,244,244,231,151,106,48,42,209,202,202,202,84,47,48,42,202,105,150,150,105,37,48,42,236,150,150,105,37,37,48,48,};
const byte greenFrame56[8*7] PROGMEM = {159,201,98,167,215,232,232,226,159,98,35,35,201,226,237,237,56,26,35,98,201,215,242,237,26,26,26,98,233,240,205,242,41,41,41,41,232,156,205,242,41,51,38,38,51,76,205,242,56,38,38,51,76,76,205,205,};
const byte blueFrame56[8*7] PROGMEM = {41,39,46,45,44,85,85,69,41,46,40,40,39,69,95,95,181,180,40,46,39,44,158,95,180,180,180,46,33,36,232,237,120,207,207,207,85,179,232,237,207,234,226,226,234,237,232,237,181,226,226,234,237,237,232,232,};
const byte redFrame57[8*7] PROGMEM = {238,238,231,170,182,84,45,84,235,231,232,231,238,182,31,31,236,244,232,231,238,182,75,31,236,202,244,231,106,106,75,42,236,202,244,142,45,47,37,42,150,105,150,150,105,37,37,42,236,150,150,105,37,37,48,48,};
const byte greenFrame57[8*7] PROGMEM = {201,201,98,167,215,232,237,232,159,98,35,98,201,215,237,237,56,26,35,98,201,215,228,237,56,41,26,98,240,240,228,242,56,41,26,104,237,156,165,242,38,51,38,38,51,76,165,242,56,38,38,51,76,76,205,205,};
const byte blueFrame57[8*7] PROGMEM = {39,39,46,45,44,85,62,85,41,46,40,46,39,44,95,95,181,180,40,46,39,44,155,95,181,207,180,46,36,36,155,237,181,207,180,152,62,179,235,237,226,234,226,226,234,237,235,237,181,226,226,234,237,237,232,232,};
const byte redFrame58[8*7] PROGMEM = {238,235,231,235,182,123,45,84,235,232,232,231,238,182,31,31,236,209,232,231,238,151,75,33,236,244,232,170,106,106,75,42,236,244,244,132,31,34,37,42,150,150,150,150,105,37,37,42,236,150,105,105,37,37,37,42,};
const byte greenFrame58[8*7] PROGMEM = {201,159,98,159,215,226,237,232,159,35,35,98,201,215,237,237,56,41,35,98,201,233,228,242,56,26,35,167,240,240,228,242,56,26,26,145,237,192,165,242,38,38,38,38,51,76,165,242,56,38,51,51,76,76,165,242,};
const byte blueFrame58[8*7] PROGMEM = {39,41,46,41,44,69,62,85,41,40,40,46,39,44,95,95,181,120,40,46,39,33,155,158,181,180,40,45,36,36,155,237,181,180,180,150,95,105,235,237,226,226,226,226,234,237,235,237,181,226,234,234,237,237,235,237,};
const byte redFrame59[8*7] PROGMEM = {238,235,232,235,238,123,31,84,235,232,232,235,238,182,31,31,236,232,232,235,182,151,84,33,236,244,232,170,45,106,75,42,236,244,244,47,31,34,37,42,150,150,150,150,93,37,39,42,202,105,105,150,105,37,37,42,};
const byte greenFrame59[8*7] PROGMEM = {201,159,35,159,201,226,237,232,159,35,35,159,201,215,237,237,56,35,35,159,215,233,232,242,56,26,35,167,237,240,228,242,56,26,26,156,237,192,165,242,38,38,38,38,113,76,117,242,41,51,51,38,51,76,165,242,};
const byte blueFrame59[8*7] PROGMEM = {39,41,40,41,39,69,95,85,41,40,40,41,39,44,95,95,181,40,40,41,44,33,85,158,181,180,40,45,62,36,155,237,181,180,180,179,95,105,235,237,226,226,226,226,228,237,234,237,207,234,234,226,234,237,235,237,};

const byte* const redFrames[60] PROGMEM = {redFrame0, redFrame1, redFrame2, redFrame3, redFrame4, redFrame5, redFrame6, redFrame7, redFrame8, redFrame9, redFrame10, redFrame11, redFrame12, redFrame13, redFrame14, redFrame15, redFrame16, redFrame17, redFrame18, redFrame19, redFrame20, redFrame21, redFrame22, redFrame23, redFrame24, redFrame25, redFrame26, redFrame27, redFrame28, redFrame29, redFrame30, redFrame31, redFrame32, redFrame33, redFrame34, redFrame35, redFrame36, redFrame37, redFrame38, redFrame39, redFrame40, redFrame41, redFrame42, redFrame43, redFrame44, redFrame45, redFrame46, redFrame47, redFrame48, redFrame49, redFrame50, redFrame51, redFrame52, redFrame53, redFrame54, redFrame55, redFrame56,  redFrame57,  redFrame58, redFrame59}; 
const byte* const greenFrames[60] PROGMEM = {greenFrame0, greenFrame1, greenFrame2, greenFrame3, greenFrame4, greenFrame5, greenFrame6, greenFrame7, greenFrame8, greenFrame9, greenFrame10, greenFrame11, greenFrame12, greenFrame13, greenFrame14, greenFrame15, greenFrame16, greenFrame17, greenFrame18, greenFrame19, greenFrame20, greenFrame21, greenFrame22, greenFrame23, greenFrame24, greenFrame25, greenFrame26, greenFrame27, greenFrame28, greenFrame29, greenFrame30, greenFrame31, greenFrame32, greenFrame33, greenFrame34, greenFrame35, greenFrame36, greenFrame37, greenFrame38, greenFrame39, greenFrame40, greenFrame41, greenFrame42, greenFrame43, greenFrame44, greenFrame45, greenFrame46, greenFrame47, greenFrame48, greenFrame49, greenFrame50, greenFrame51, greenFrame52, greenFrame53, greenFrame54, greenFrame55, greenFrame56,  greenFrame57,  greenFrame58, greenFrame59}; 
const byte* const blueFrames[60] PROGMEM = {blueFrame0, blueFrame1, blueFrame2, blueFrame3, blueFrame4, blueFrame5, blueFrame6, blueFrame7, blueFrame8, blueFrame9, blueFrame10, blueFrame11, blueFrame12, blueFrame13, blueFrame14, blueFrame15, blueFrame16, blueFrame17, blueFrame18, blueFrame19, blueFrame20, blueFrame21, blueFrame22, blueFrame23, blueFrame24, blueFrame25, blueFrame26, blueFrame27, blueFrame28, blueFrame29, blueFrame30, blueFrame31, blueFrame32, blueFrame33, blueFrame34, blueFrame35, blueFrame36, blueFrame37, blueFrame38, blueFrame39, blueFrame40, blueFrame41, blueFrame42, blueFrame43, blueFrame44, blueFrame45, blueFrame46, blueFrame47, blueFrame48, blueFrame49, blueFrame50, blueFrame51, blueFrame52, blueFrame53, blueFrame54, blueFrame55, blueFrame56,  blueFrame57,  blueFrame58, blueFrame59}; 

/* ...hardware SPI, using SCK/MOSI/MISO hardware SPI pins and then user selected CS/IRQ/RST */
Adafruit_BluefruitLE_SPI ble(BLUEFRUIT_SPI_CS, BLUEFRUIT_SPI_IRQ, BLUEFRUIT_SPI_RST);

// A small helper
void error(const __FlashStringHelper*err) {
  Serial.println(err);
  while (1);
}

// function prototypes over in packetparser.cpp
uint8_t readPacket(Adafruit_BLE *ble, uint16_t timeout);
float parsefloat(uint8_t *buffer);
void printHex(const uint8_t * data, const uint32_t numBytes);

// the packet buffer
extern uint8_t packetbuffer[];


/**************************************************************************/
/*!
    @brief  Sets up the HW an the BLE module (this function is called
            automatically on startup)
*/
/**************************************************************************/
//additional variables
long animateSpeed = 300;
Metro AnimateTimer = Metro(animateSpeed);
byte FrameNumber = 0;
uint8_t animationState = 1;
uint8_t pixelBrightness = 10;
boolean pressed = false;
byte lowerFrame = 0;
byte upperFrame = 8;
byte currRedFrame;
byte currGreenFrame;
byte currBlueFrame;
byte red = 0;// Mode and color variables
byte green = 0;
byte blue = 0;
byte mode = 1;

void setup(void)
{   
  Serial.begin(115200);
  matrix.begin();
  matrix.setBrightness(pixelBrightness);
  matrix.fillScreen(0);
  matrix.show();
  delay(100);  

  /* Initialise the module */
  if ( !ble.begin(VERBOSE_MODE) )
  {
    error(F("Couldn't find Bluefruit, make sure it's in CoMmanD mode & check wiring?"));
  }
  Serial.println( F("OK!") );

  /* Disable command echo from Bluefruit */
  ble.echo(false);

  /* Print Bluefruit information */
  ble.info();
  ble.verbose(false);  

  /* Wait for connection */
  //while (! ble.isConnected()) {
  //    delay(500);
  //}

  // Set Bluefruit to DATA mode
  ble.setMode(BLUEFRUIT_MODE_DATA);
}


/**************************************************************************/
/*!
    @brief  Constantly poll for new command or response data
*/
/**************************************************************************/
void loop(void)
{
  /* Wait for new data to arrive */
  uint8_t len = readPacket(&ble, BLE_READPACKET_TIMEOUT);

  if (packetbuffer[1] == 'C')// If the packet is from the color picker, fill the shades with it
  {
    mode = 0;
    red = packetbuffer[2];
    green = packetbuffer[3];
    blue = packetbuffer[4];
    Serial.println ("RGB #");
    if (red < 0x10) Serial.print("0");
    Serial.println(red);
    if (green < 0x10) Serial.print("0");
    Serial.println(green);
    if (blue < 0x10) Serial.print("0");
    Serial.println(blue);

    for (uint16_t i = 0; i < strip.numPixels(); i++)
    {
      strip.setPixelColor(i, strip.Color(red, green, blue));
      strip.show();
      delay(20);
    }
  }

  if (mode == 0) {
    for (uint16_t i = 0; i < strip.numPixels(); i++)
    {
      strip.setPixelColor(i, strip.Color(red, green, blue));
      strip.show();
      delay(20);
    }
  }

  // Buttons
  if (packetbuffer[1] == 'B') { 
    mode = 1;
    uint8_t buttnum = packetbuffer[2] - '0';
    pressed = packetbuffer[3] - '0';
    animationState = buttnum;
  }

  if (animationState == 1) {
    lowerFrame = 0;
    upperFrame = 8;
  }

  if (animationState == 2) {
    lowerFrame = 8;
    upperFrame = 16;
  }

  if (animationState == 3) {
    lowerFrame = 16;
    upperFrame = 36;
  }

  if (animationState == 4) {
    lowerFrame = 36;
    upperFrame = 60;
  }

  if (animationState == 5 && pressed){ // up
    Serial.println( "pixelBrightness:" );
    Serial.println(pixelBrightness);
    if (pixelBrightness < 255) {
      pixelBrightness += 1;
      matrix.setBrightness(pixelBrightness);
    }    
  }

  if (animationState == 6 && pressed){ // down
    Serial.println( "pixelBrightness:" );
    Serial.println(pixelBrightness);
    if (pixelBrightness > 3) {
      pixelBrightness -= 1;
      matrix.setBrightness(pixelBrightness);
    }    
  }

  if (animationState == 7 && pressed) { //left 
    if (animateSpeed < 1000) {
      animateSpeed += 10;
      Serial.println( "animateSpeed:" );
      Serial.println(animateSpeed); 
      AnimateTimer.interval(animateSpeed);
      AnimateTimer.reset();
    }
  }

  if (animationState == 8 && pressed) { //right  
    if (animateSpeed > 0) {
      animateSpeed -= 10;
      Serial.println( "animateSpeed:" );
      Serial.println(animateSpeed); 
      AnimateTimer.interval(animateSpeed);
      AnimateTimer.reset();
    }
  }
  
  if (AnimateTimer.check() == 1 && mode!= 0) {
    TimerEvent();
  }
}

uint16_t drawRGB24toRGB565(byte r, byte g, byte b) {
  return ((r / 8) << 11) | ((g / 4) << 5) | (b / 8);
}

void TimerEvent() {
  if (FrameNumber < upperFrame) {
      for (byte y = 0; y < 7; y++) {
        for (byte x = 0; x < 8; x++) {
          byte loc = x + y*8;

          currRedFrame = pgm_read_byte_near(pgm_read_ptr_near(redFrames + FrameNumber) + loc);
          currGreenFrame = pgm_read_byte_near(pgm_read_ptr_near(greenFrames + FrameNumber) + loc);
          currBlueFrame = pgm_read_byte_near(pgm_read_ptr_near(blueFrames + FrameNumber) + loc);
          
          matrix.drawPixel(x, y, drawRGB24toRGB565(currRedFrame, currGreenFrame, currBlueFrame));     
        }
      }
      FrameNumber ++;      
  } else {
    FrameNumber = lowerFrame;
  }  
  matrix.show();
}
